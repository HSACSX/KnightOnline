<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenKO: AudioThread Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenKO
   </div>
   <div id="projectbrief">Open source version of the old school Knight Online MMORPG for version 1.298</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classAudioThread.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classAudioThread-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AudioThread Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Manages active audio playback and streamed decoding.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AudioThread_8h_source.html">AudioThread.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0f49312b58a64816161e6bdb8f5adba0" id="r_a0f49312b58a64816161e6bdb8f5adba0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f49312b58a64816161e6bdb8f5adba0">AudioCallback</a> = std::function&lt;void(<a class="el" href="classAudioHandle.html">AudioHandle</a>*)&gt;</td></tr>
<tr class="memdesc:a0f49312b58a64816161e6bdb8f5adba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback type executed on the audio thread with an <a class="el" href="classAudioHandle.html" title="Base class representing an active audio playback instance.">AudioHandle</a>.  <br /></td></tr>
<tr class="separator:a0f49312b58a64816161e6bdb8f5adba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdab3c3a69196206212cef3a01260247" id="r_abdab3c3a69196206212cef3a01260247"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abdab3c3a69196206212cef3a01260247">QueueType</a> = std::tuple&lt;e_AudioQueueType, std::shared_ptr&lt;<a class="el" href="classAudioHandle.html">AudioHandle</a>&gt;, <a class="el" href="#a0f49312b58a64816161e6bdb8f5adba0">AudioCallback</a>&gt;</td></tr>
<tr class="separator:abdab3c3a69196206212cef3a01260247"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a00f4017141af67fff0e85f4d7c1595e3" id="r_a00f4017141af67fff0e85f4d7c1595e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00f4017141af67fff0e85f4d7c1595e3">AudioThread</a> ()</td></tr>
<tr class="memdesc:a00f4017141af67fff0e85f4d7c1595e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the audio thread object.  <br /></td></tr>
<tr class="separator:a00f4017141af67fff0e85f4d7c1595e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de6366d74ab9267cb0e58082ee18640" id="r_a3de6366d74ab9267cb0e58082ee18640"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3de6366d74ab9267cb0e58082ee18640">~AudioThread</a> () override</td></tr>
<tr class="memdesc:a3de6366d74ab9267cb0e58082ee18640"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the thread and cleans up resources.  <br /></td></tr>
<tr class="separator:a3de6366d74ab9267cb0e58082ee18640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada9eac60e9c182983d1ca0b0d4126d5" id="r_aada9eac60e9c182983d1ca0b0d4126d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aada9eac60e9c182983d1ca0b0d4126d5">thread_loop</a> () override</td></tr>
<tr class="separator:aada9eac60e9c182983d1ca0b0d4126d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e40cf319d292951e36688bb3fb03ba" id="r_af4e40cf319d292951e36688bb3fb03ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4e40cf319d292951e36688bb3fb03ba">Add</a> (std::shared_ptr&lt; <a class="el" href="classAudioHandle.html">AudioHandle</a> &gt; handle)</td></tr>
<tr class="separator:af4e40cf319d292951e36688bb3fb03ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621c7ca135f01366f4031e593848392e" id="r_a621c7ca135f01366f4031e593848392e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a621c7ca135f01366f4031e593848392e">QueueCallback</a> (std::shared_ptr&lt; <a class="el" href="classAudioHandle.html">AudioHandle</a> &gt; handle, <a class="el" href="#a0f49312b58a64816161e6bdb8f5adba0">AudioCallback</a> callback)</td></tr>
<tr class="separator:a621c7ca135f01366f4031e593848392e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd7b0c61d8ef78a5c8f5852402632a9" id="r_a3fd7b0c61d8ef78a5c8f5852402632a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3fd7b0c61d8ef78a5c8f5852402632a9">Remove</a> (std::shared_ptr&lt; <a class="el" href="classAudioHandle.html">AudioHandle</a> &gt; handle)</td></tr>
<tr class="separator:a3fd7b0c61d8ef78a5c8f5852402632a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classThread"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classThread')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classThread.html">Thread</a></td></tr>
<tr class="memitem:acf837cc0ca7f987aa27df0be6bebd1eb inherit pub_methods_classThread" id="r_acf837cc0ca7f987aa27df0be6bebd1eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#acf837cc0ca7f987aa27df0be6bebd1eb">CanTick</a> () const</td></tr>
<tr class="separator:acf837cc0ca7f987aa27df0be6bebd1eb inherit pub_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5808f26160479e3478efe7872a09a59f inherit pub_methods_classThread" id="r_a5808f26160479e3478efe7872a09a59f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#a5808f26160479e3478efe7872a09a59f">IsShutdown</a> () const</td></tr>
<tr class="separator:a5808f26160479e3478efe7872a09a59f inherit pub_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a52d7425f6c14832fbce49bb695ee8b inherit pub_methods_classThread" id="r_a4a52d7425f6c14832fbce49bb695ee8b"><td class="memItemLeft" align="right" valign="top">std::mutex &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#a4a52d7425f6c14832fbce49bb695ee8b">ThreadMutex</a> () const</td></tr>
<tr class="separator:a4a52d7425f6c14832fbce49bb695ee8b inherit pub_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25b83df089760f3877d0d6e6dc2ab077 inherit pub_methods_classThread" id="r_a25b83df089760f3877d0d6e6dc2ab077"><td class="memItemLeft" align="right" valign="top">std::condition_variable &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#a25b83df089760f3877d0d6e6dc2ab077">ThreadCondition</a> ()</td></tr>
<tr class="separator:a25b83df089760f3877d0d6e6dc2ab077 inherit pub_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c11155bf4e46dc561a70df8b4459bca inherit pub_methods_classThread" id="r_a9c11155bf4e46dc561a70df8b4459bca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#a9c11155bf4e46dc561a70df8b4459bca">SetSignaled</a> ()</td></tr>
<tr class="separator:a9c11155bf4e46dc561a70df8b4459bca inherit pub_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f53ee62bd30a7924186ef26150ce262 inherit pub_methods_classThread" id="r_a1f53ee62bd30a7924186ef26150ce262"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#a1f53ee62bd30a7924186ef26150ce262">start</a> ()</td></tr>
<tr class="separator:a1f53ee62bd30a7924186ef26150ce262 inherit pub_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221711b56608703df63e399c35e87284 inherit pub_methods_classThread" id="r_a221711b56608703df63e399c35e87284"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#a221711b56608703df63e399c35e87284">shutdown</a> (bool waitForShutdown=true)</td></tr>
<tr class="separator:a221711b56608703df63e399c35e87284 inherit pub_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9d788e98388a3217831a9046709deb inherit pub_methods_classThread" id="r_a4d9d788e98388a3217831a9046709deb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#a4d9d788e98388a3217831a9046709deb">join</a> ()</td></tr>
<tr class="separator:a4d9d788e98388a3217831a9046709deb inherit pub_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af015561c02b5830be43f11bd03341950" id="r_af015561c02b5830be43f11bd03341950"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="#abdab3c3a69196206212cef3a01260247">QueueType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af015561c02b5830be43f11bd03341950">_pendingQueue</a></td></tr>
<tr class="memdesc:af015561c02b5830be43f11bd03341950"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue of pending operations for the audio thread.  <br /></td></tr>
<tr class="separator:af015561c02b5830be43f11bd03341950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606dcb84b325d5ba67cbdae12db385b3" id="r_a606dcb84b325d5ba67cbdae12db385b3"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classAudioDecoderThread.html">AudioDecoderThread</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a606dcb84b325d5ba67cbdae12db385b3">_decoderThread</a></td></tr>
<tr class="memdesc:a606dcb84b325d5ba67cbdae12db385b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Background decoder thread for streamed audio assets.  <br /></td></tr>
<tr class="separator:a606dcb84b325d5ba67cbdae12db385b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classThread"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_classThread')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classThread.html">Thread</a></td></tr>
<tr class="memitem:a12c8117d0543f4bc270c89101993bdf4 inherit pro_methods_classThread" id="r_a12c8117d0543f4bc270c89101993bdf4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#a12c8117d0543f4bc270c89101993bdf4">IsSignaled</a> () const</td></tr>
<tr class="separator:a12c8117d0543f4bc270c89101993bdf4 inherit pro_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de9e88d9866a38a1e3621b738faaeb7 inherit pro_methods_classThread" id="r_a1de9e88d9866a38a1e3621b738faaeb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#a1de9e88d9866a38a1e3621b738faaeb7">ResetSignal</a> ()</td></tr>
<tr class="separator:a1de9e88d9866a38a1e3621b738faaeb7 inherit pro_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e400fe28fc59f6e095c332a18a631b9 inherit pro_methods_classThread" id="r_a3e400fe28fc59f6e095c332a18a631b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#a3e400fe28fc59f6e095c332a18a631b9">thread_loop_wrapper</a> ()</td></tr>
<tr class="separator:a3e400fe28fc59f6e095c332a18a631b9 inherit pro_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcff09428a1d7da118603ca050145c75 inherit pro_methods_classThread" id="r_abcff09428a1d7da118603ca050145c75"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThread.html#abcff09428a1d7da118603ca050145c75">before_shutdown</a> ()</td></tr>
<tr class="separator:abcff09428a1d7da118603ca050145c75 inherit pro_methods_classThread"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages active audio playback and streamed decoding. </p>
<p><a class="el" href="classAudioThread.html" title="Manages active audio playback and streamed decoding.">AudioThread</a> runs a dedicated background thread that processes queued audio handles, updates playback state, handles fades, manages the decoder thread for streamed assets, and invokes callbacks. This allows safe asynchronous audio playback while maintaining real-time update of all sounds. </p>

<p class="definition">Definition at line <a class="el" href="AudioThread_8h_source.html#l00040">40</a> of file <a class="el" href="AudioThread_8h_source.html">AudioThread.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a0f49312b58a64816161e6bdb8f5adba0" name="a0f49312b58a64816161e6bdb8f5adba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f49312b58a64816161e6bdb8f5adba0">&#9670;&#160;</a></span>AudioCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a0f49312b58a64816161e6bdb8f5adba0">AudioThread::AudioCallback</a> = std::function&lt;void(<a class="el" href="classAudioHandle.html">AudioHandle</a>*)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback type executed on the audio thread with an <a class="el" href="classAudioHandle.html" title="Base class representing an active audio playback instance.">AudioHandle</a>. </p>

<p class="definition">Definition at line <a class="el" href="AudioThread_8h_source.html#l00044">44</a> of file <a class="el" href="AudioThread_8h_source.html">AudioThread.h</a>.</p>

</div>
</div>
<a id="abdab3c3a69196206212cef3a01260247" name="abdab3c3a69196206212cef3a01260247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdab3c3a69196206212cef3a01260247">&#9670;&#160;</a></span>QueueType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#abdab3c3a69196206212cef3a01260247">AudioThread::QueueType</a> = std::tuple&lt;e_AudioQueueType, std::shared_ptr&lt;<a class="el" href="classAudioHandle.html">AudioHandle</a>&gt;, <a class="el" href="#a0f49312b58a64816161e6bdb8f5adba0">AudioCallback</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tuple representing a queued operation in the audio thread.</p>
<p>Consists of:</p><ul>
<li>e_AudioQueueType: the type of operation.</li>
<li>shared_ptr&lt;AudioHandle&gt;: the handle affected by the operation.</li>
<li><a class="el" href="#a0f49312b58a64816161e6bdb8f5adba0" title="Callback type executed on the audio thread with an AudioHandle.">AudioCallback</a>: optional callback function. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="AudioThread_8h_source.html#l00052">52</a> of file <a class="el" href="AudioThread_8h_source.html">AudioThread.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a00f4017141af67fff0e85f4d7c1595e3" name="a00f4017141af67fff0e85f4d7c1595e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f4017141af67fff0e85f4d7c1595e3">&#9670;&#160;</a></span>AudioThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AudioThread::AudioThread </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs the audio thread object. </p>

<p class="definition">Definition at line <a class="el" href="AudioThread_8cpp_source.html#l00016">16</a> of file <a class="el" href="AudioThread_8cpp_source.html">AudioThread.cpp</a>.</p>

</div>
</div>
<a id="a3de6366d74ab9267cb0e58082ee18640" name="a3de6366d74ab9267cb0e58082ee18640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de6366d74ab9267cb0e58082ee18640">&#9670;&#160;</a></span>~AudioThread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AudioThread::~AudioThread </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops the thread and cleans up resources. </p>

<p class="definition">Definition at line <a class="el" href="AudioThread_8cpp_source.html#l00020">20</a> of file <a class="el" href="AudioThread_8cpp_source.html">AudioThread.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af4e40cf319d292951e36688bb3fb03ba" name="af4e40cf319d292951e36688bb3fb03ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e40cf319d292951e36688bb3fb03ba">&#9670;&#160;</a></span>Add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioThread::Add </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classAudioHandle.html">AudioHandle</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queues an audio handle for playback and decoding.</p>
<p>Marks the handle as managed and ensures it is tracked by the audio thread until removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Audio handle to add. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="AudioThread_8cpp_source.html#l00104">104</a> of file <a class="el" href="AudioThread_8cpp_source.html">AudioThread.cpp</a>.</p>

</div>
</div>
<a id="a621c7ca135f01366f4031e593848392e" name="a621c7ca135f01366f4031e593848392e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a621c7ca135f01366f4031e593848392e">&#9670;&#160;</a></span>QueueCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioThread::QueueCallback </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classAudioHandle.html">AudioHandle</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a0f49312b58a64816161e6bdb8f5adba0">AudioCallback</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queues a callback to be executed on the audio thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Audio handle context for the callback. </td></tr>
    <tr><td class="paramname">callback</td><td>Function to invoke on the audio thread. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="AudioThread_8cpp_source.html#l00124">124</a> of file <a class="el" href="AudioThread_8cpp_source.html">AudioThread.cpp</a>.</p>

</div>
</div>
<a id="a3fd7b0c61d8ef78a5c8f5852402632a9" name="a3fd7b0c61d8ef78a5c8f5852402632a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd7b0c61d8ef78a5c8f5852402632a9">&#9670;&#160;</a></span>Remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioThread::Remove </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classAudioHandle.html">AudioHandle</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queues an audio handle for removal from the audio thread.</p>
<p>Stops playback, releases resources, and marks the handle as no longer managed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Audio handle to remove. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="AudioThread_8cpp_source.html#l00141">141</a> of file <a class="el" href="AudioThread_8cpp_source.html">AudioThread.cpp</a>.</p>

</div>
</div>
<a id="aada9eac60e9c182983d1ca0b0d4126d5" name="aada9eac60e9c182983d1ca0b0d4126d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aada9eac60e9c182983d1ca0b0d4126d5">&#9670;&#160;</a></span>thread_loop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AudioThread::thread_loop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Main loop executed by the audio thread.</p>
<p>Processes queued handle operations, updates playback states, applies fades, and schedules decoding of streamed audio. </p>

<p>Implements <a class="el" href="classThread.html">Thread</a>.</p>

<p class="definition">Definition at line <a class="el" href="AudioThread_8cpp_source.html#l00024">24</a> of file <a class="el" href="AudioThread_8cpp_source.html">AudioThread.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a606dcb84b325d5ba67cbdae12db385b3" name="a606dcb84b325d5ba67cbdae12db385b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606dcb84b325d5ba67cbdae12db385b3">&#9670;&#160;</a></span>_decoderThread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classAudioDecoderThread.html">AudioDecoderThread</a>&gt; AudioThread::_decoderThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Background decoder thread for streamed audio assets. </p>

<p class="definition">Definition at line <a class="el" href="AudioThread_8h_source.html#l00147">147</a> of file <a class="el" href="AudioThread_8h_source.html">AudioThread.h</a>.</p>

</div>
</div>
<a id="af015561c02b5830be43f11bd03341950" name="af015561c02b5830be43f11bd03341950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af015561c02b5830be43f11bd03341950">&#9670;&#160;</a></span>_pendingQueue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="#abdab3c3a69196206212cef3a01260247">QueueType</a>&gt; AudioThread::_pendingQueue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue of pending operations for the audio thread. </p>

<p class="definition">Definition at line <a class="el" href="AudioThread_8h_source.html#l00144">144</a> of file <a class="el" href="AudioThread_8h_source.html">AudioThread.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/N3Base/<a class="el" href="AudioThread_8h_source.html">AudioThread.h</a></li>
<li>src/N3Base/<a class="el" href="AudioThread_8cpp_source.html">AudioThread.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classAudioThread.html">AudioThread</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
